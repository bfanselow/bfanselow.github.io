(this["webpackJsonpbfanselow-site"]=this["webpackJsonpbfanselow-site"]||[]).push([[45],{874:function(s,e,o){"use strict";o.r(e);var r=o(370),a=o(793),d=o(425),n=o(509),i=o(452),t=o(454),l=o(313),w=o(170),c=o(314),m=o(43),u=o.n(m),P=o(270);const p=async s=>{let{oldPassword:e,newPassword:o}=s;const{data:r}=await u.a.put("/api/password",{oldPassword:e,newPassword:o});return r};var h=o(122),b=o(1);e.default=()=>{const s=Object(h.b)(),{t:e}=Object(w.a)(),{isUpdating:o,updatePassword:m}=function(){const{isLoading:s,mutateAsync:e}=Object(P.a)(p);return{isUpdating:s,updatePassword:e}}(),u=Object(l.a)({initialValues:{oldPassword:"",newPassword:"",confirmPassword:""},validationSchema:c.b({oldPassword:c.d().min(8,e("common.validations.min",{size:8})).required(e("common.validations.required")),newPassword:c.d().min(8,e("common.validations.min",{size:8})).required(e("common.validations.required")),confirmPassword:c.d().oneOf([c.c("newPassword")],e("common.validations.passwordMatch")).required(e("common.validations.required"))}),onSubmit:s=>f(s.oldPassword,s.newPassword)}),f=async(o,r)=>{m({oldPassword:o,newPassword:r}).then((()=>{u.resetForm(),s.success(e("profile.notifications.passwordChanged"))})).catch((()=>{s.error(e("common.errors.unexpected.subTitle"))}))};return Object(b.jsx)("form",{onSubmit:u.handleSubmit,noValidate:!0,children:Object(b.jsxs)(r.a,{children:[Object(b.jsx)(n.a,{title:e("profile.password.title")}),Object(b.jsxs)(d.a,{children:[Object(b.jsx)(i.a,{margin:"normal",required:!0,fullWidth:!0,name:"oldPassword",label:e("profile.password.form.current.label"),type:"password",id:"oldPassword",autoComplete:"current-password",disabled:o,value:u.values.oldPassword,onChange:u.handleChange,error:u.touched.oldPassword&&Boolean(u.errors.oldPassword),helperText:u.touched.oldPassword&&u.errors.oldPassword}),Object(b.jsx)(i.a,{margin:"normal",required:!0,fullWidth:!0,name:"newPassword",label:e("profile.password.form.new.label"),type:"password",id:"newPassword",disabled:o,value:u.values.newPassword,onChange:u.handleChange,error:u.touched.newPassword&&Boolean(u.errors.newPassword),helperText:u.touched.newPassword&&u.errors.newPassword}),Object(b.jsx)(i.a,{margin:"normal",required:!0,fullWidth:!0,name:"confirmPassword",label:e("profile.password.form.confirm.label"),type:"password",id:"confirmPassword",disabled:o,value:u.values.confirmPassword,onChange:u.handleChange,error:u.touched.confirmPassword&&Boolean(u.errors.confirmPassword),helperText:u.touched.confirmPassword&&u.errors.confirmPassword})]}),Object(b.jsx)(a.a,{children:Object(b.jsx)(t.a,{type:"submit",loading:o,variant:"contained",children:e("common.update")})})]})})}}}]);
//# sourceMappingURL=45.0cdafcf9.chunk.js.map